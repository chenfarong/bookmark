<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>游戏防黑客</title>
  </head>
  <body>
    <h1>游戏防黑实战</h1>
    <br>
    <h2>一、防外挂</h2>
    <ul>
      <li>从策划角度就需要考虑外挂肯定存在，并且不严重依赖技术手段来防止。</li>
      <li>心理战，让黑客感到疲惫，使之放弃</li>
      <li>客户端防外挂</li>
      <li>服务端防外挂</li>
      <li>客服人工参与</li>
      <li>玩家举报<br>
      </li>
    </ul>
    <br>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <p style="line-height: 27.5pt; margin: 0pt 0pt 0pt 21pt;
      page-break-after: avoid; text-indent: -21pt;"><span style="color:#333333; font-family:微软雅黑; font-size:16pt;
        font-weight:bold">2.</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:16pt; font-weight:bold">外挂类型</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">外挂也分不同的手段和目的，有的是玩家自娱自乐用几个小号帮主账号打钱，有的是在游戏里坑蒙拐骗，
        成规模的则是通过专门的脱机外挂使用数百上千账号同时登陆获取游戏币，分类如下。具体检测及应对方式在后面详细讨论。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">1、钓鱼类。</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">在游戏里发送
        钓鱼邮件，进行交易欺骗，无偿或以很低的价格骗取其他玩家的金钱、装备。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">2、加速类。</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">使用模拟器帧
        加速，或者修改代码提高帧率。目的是在较短时间内获取较高收益。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">3、按键精灵挂机类。</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">按键精灵辅助
        或文字识别，然后破解客户端协议进行自动操作，实现快速获得收益。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">4、脱机外挂。</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">破解协议，脱
        离客户端，同时挂成千上万的角色刷银两，也是对我们游戏货币产出危害最大的一类。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">5、入侵攻击类。</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">破解协议，短
        时间内发送大量请求。目的在于攻击服务器或者为自己的外挂服务。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">应对外挂主要处理两个问题，首要的就是识别外挂。</span></p>
    <h2>二、外挂导致常见结果</h2>
    <ul>
      <li>短期暴富，一些关键数值超出策划设定的合理区间</li>
      <li>同一行为重复超频</li>
      <li>请求协议顺序不符合设定</li>
      <li>请求协议中的参数超出设定区间</li>
      <li>越过客户端设定的屏蔽</li>
      <li>持续时间和活跃度比较明显不太合理（例如超短时间内上下线，超长时间在线）</li>
      <li>相同ip发起众多连接，或者创建众多账号</li>
      <li>创建角色后，后续命令超出预定时间阀值</li>
      <li>不到级别越级请求功能命令（例如：不断请求升级等）<br>
      </li>
    </ul>
    <br>
    三、如何处理外挂<br>
    <ul>
      <li>预警：人工，自动</li>
      <li>干预</li>
      <ul>
        <li>人工：解封账号/角色，封账号/角色，数据回档。</li>
      </ul>
    </ul>
    <br>
    <h2>二、技术方式防外挂</h2>
    <br>
    - 重要点<br>
    <ul>
      <li>处理外挂前进行数据保护</li>
      <li>一定要延时处理</li>
      <li>引流到黑洞</li>
      <li>偶尔放行，规律不容易让黑客觉察<br>
      </li>
    </ul>
    <br>
    <br>
    <br>
    - 行为检测<br>
    <br>
    &nbsp;&nbsp;&nbsp; * 指令会话，有些指令肯定成对出现，如果在玩家在线过程中，出现了非成对时<br>
    &nbsp;&nbsp;&nbsp; * 移动位置超出合理区间<br>
    &nbsp;&nbsp;&nbsp; * 参数数据不在合理范围（策划）<br>
    &nbsp;&nbsp;&nbsp; * 同一个IP地址在时间断内允许执行相同命令次数（创角等重要指令）<br>
    &nbsp;&nbsp;&nbsp; * IP地址同时连接数量限制<br>
    &nbsp;&nbsp;&nbsp; * 密码验证错误次数<br>
    &nbsp;&nbsp;&nbsp; * 指令密集度（战斗）<br>
    &nbsp;&nbsp;&nbsp; * 客服端在指定的命令后面加上一组无效的附加指令（用来检测是否真实客户端，延时提交附加指令）<br>
    &nbsp;&nbsp;&nbsp; * 指令需求前置命令存在（如果不存在前置命令，判断为非法）<br>
    &nbsp;&nbsp;&nbsp; * <font color="#cc0000">延时处理外挂，避免让外挂开发者马上发现<br>
      &nbsp;&nbsp;&nbsp; <font color="#000000">*
        向客户端发送校样命令，客户端在指定时间段内回复此命令<br>
        &nbsp;&nbsp;&nbsp; * 操作时序<br>
      </font></font><br>
    <br>
    <br>
    <br>
    <br>
    - IP黑白名单<br>
    <br>
    <br>
    <h2>三、数据安全</h2>
    - 盗号<br>
    - 设备特征码<br>
    - 二次验证<br>
    <br>
    <br>
    <br>
    <h2>四、常见的外挂手段</h2>
    <p><br>
    </p>
    <ul>
      <li>按键精灵</li>
      <li>协议分析</li>
      <li>内存修改</li>
      <li>时间修改</li>
      <li>代码修改</li>
      <li>资源修改</li>
      <br>
      <br>
      <br>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    </ul>
    <p style="line-height: 27.5pt; margin: 0pt 0pt 0pt 21pt;
      page-break-after: avoid; text-indent: -21pt;"><span style="color:#333333; font-family:微软雅黑; font-size:16pt;
        font-weight:bold">3.</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:16pt; font-weight:bold">识别</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">针对外挂千变万化的操作，有一个原则在识别外挂时比较有效，那就是“检测出非正常情况”。从微观上
        看，一款设计的好的游戏，一个角色每天的登录次数、在游戏里头的移动速度、每天能够升级到多少级、参加多少次活动、赚取多少游戏币都是有
        一个正常范围的；而从宏观上一个服务器或者全服来看，每天的留存率、各个时段的同时在线数量、游戏货币产出量也都会有个正常的区间。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:12pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">那么这些实时的、或者经过事后统计的数据发生了异常和突变，必定是有原因的——虽然不会一定是外挂
        导致的。比如，如果游戏的某个区当天做了推广，那么同时在线也有可能会增加不少；再或者运营商网络出现问题，也会导致在线下降。这些时
        候，需要具体情况，具体对待。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:12pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">典型的，我们用来检测外挂的一些异常情况可以分成实时的、事后统计得到的以及一些辅助的方式。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">一、实时检测</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">：</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">1、同一帐号登录过于频繁；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">2、角色在游戏里移动过快、操作过于频繁；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">3、针对不同版本的协议进行不同的加密和回复；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">4、耗费资源的协议频率异常；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">二、统计分析检测：</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">1、同一IP同时登录的人数过多；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">2、每天通过邮件邮寄出(入)以及(被)赠与银两的次数过多；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">3、拥有的游戏币数量与等级严重不符的角色；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">4、某些物品在市场上的交易价格严重偏离正常价格；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">三、辅助分析方式：</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">1、在线激增；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">2、服务器间流量激增，出现告警；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">3、角色名称异常；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">很多时候这里并不是某一条单一出现的，而是同时出现的，比如我们找出来的符合第一条的往往也符合第
        六条，很多名字是A100、A101等等;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">4、在拍拍和淘宝上找到游戏币卖家的QQ号以及与其关联的号码；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">5、游戏里头广播的商人帐号；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">识别出外挂之
        后，我们要做的就是防范和处理，给与外挂一定的惩罚。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:12pt">&nbsp;</span></p>
    <p style="line-height: 27.5pt; margin: 0pt 0pt 0pt 21pt;
      page-break-after: avoid; text-indent: -21pt;"><span style="color:#333333; font-family:微软雅黑; font-size:16pt;
        font-weight:bold">4.</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:16pt; font-weight:bold">防范</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">知道了外挂的类型、操作原理，以及通常的手段之后，我们就针对性的设计一些防范的手段。简单的可以
        分成产品及运营侧以及技术侧两方面。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">一、产品和运营侧</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">游戏中任务和活动的设计，最好是玩家友好而对外挂不友好甚至是外挂无法完成(或者起码现有的技术无
        法完成、抑或无法低成本的完成)的。对于一些提高了玩家操作门槛的操作，比如验证码，可以合理的使用奖惩手段，比如双倍奖励等来补偿玩
        家。</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">1、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">要求玩家输入验证码；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">2、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">不允许低等级玩家在游戏中进行银两和物品转移；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">3、通过法律手段解决。从游戏中取得详细的外挂数据，提供给法务部，通过法律手段禁止工作室非法销
        售游戏币。</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">二、技术侧</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">1、频率、数量、速度限制：</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">i) 同一帐号登录频率限制；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">ii) 对于一些比较消耗资源的协议处理，做时间限制，比如查询、5键搜索、IOS支付等等；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">iii) 同一帐号所有服务器同时在线人数限制；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">iv) 角色移动速度限制、心跳协议发送频率限制</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 21pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt; font-weight:bold">2、弹验证码：</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">在外挂容易得手的地方加入验证码；另外，一种类似验证码的方式是弹出简单的数字题目。</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt; font-weight:bold">3、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">动态协议</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">：每次使用不同的内容代表相同的语义；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt; font-weight:bold">4、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">菜单混淆</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">：因为简单的外挂每次总会固定选择菜单的某一项，通过变化的
        菜单破坏外挂的固有程序。</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt; font-weight:bold">5、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">关键字过滤</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">：主要针对钓鱼类外挂；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt; font-weight:bold">6、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">协议加密</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">：不同的客户端使用不同的加密方式和返回值，判断出外挂后，
        缓冲一段时间踢下线；或者记录日志统一处理；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt; font-weight:bold">7、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt; font-weight:bold">&nbsp;</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt;
        font-weight:bold">强制客户端校验失效</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">：外挂一次登录后可以永远切换不同的服务器，后来把sid的
        有效性时长缩短；外挂发现后，为保证sid有效，会持续不断的登录服务器，每秒很多次，为防止这种情况，做了登录时间限制；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">以上是一些游戏里实时的处理方式，另外根据日志，我们可以检测到外挂的一些行为，总结如下：</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">8、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">通过登录日志分析同一IP同一秒钟登录次数超过M个帐号的、
        每天通过转移游戏币超过N次的，有极大的概率可以判断为刷子；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">9、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">刷子一般为工作室所有，他们会把银两集中到某几个帐号上，并
        反复的进行转移，跟踪打击这些节点帐号可以得到4两拨千斤的效果；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">10、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">使用机器学习
        算法分析日志识别外挂(以后的方向，尽量跟游戏形成闭环)；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 39pt; text-align:
      justify;"><span style="color: rgb(51, 51, 51); font-family: 微软雅黑;
        font-size: 10.5pt;">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify; text-indent: 21pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">另外，与我们知道的外挂手段相比，危害更大的可能是那些我们
        还不了解的方法。所以，除了以上一些处理方式之外，我们在服务端开发时还需要遵守“防御式编程”规则，以防止外挂利用游戏里的漏洞。</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">1、服务器不信任客户端，后台充分进行校验；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">2、需要扣除然后给予的操作，永远保证先扣除，后给予，向着对作弊者不利的方向开发代码；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 21pt; text-align:
      justify;"><span style="color:#333333; font-family:微软雅黑;
        font-size:12pt">&nbsp;</span></p>
    <p style="line-height: 27.5pt; margin: 0pt 0pt 0pt 21pt;
      page-break-after: avoid; text-indent: -21pt;"><span style="color:#333333; font-family:微软雅黑; font-size:16pt;
        font-weight:bold">5.</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:16pt; font-weight:bold">处罚</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;
      text-indent: 18pt;"><span style="color:#333333; font-family:微软雅黑;
        font-size:10.5pt">在检查出玩家使用了外挂之后，游戏会给予一定的惩罚。惩罚的原则是：力度与其对游戏的破坏成正比。
        目前游戏里使用了比较简单的方式对外挂账号进行处理，接下来还需要完善。</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 18pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">1、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">关小黑屋；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 18pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">2、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">登录时或者通过邮件警告；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 18pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">3、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">封号一段时间内或者永久无法登录；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 18pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">4、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">如果有非法获得，则没收非法所得游戏币。</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">&nbsp;</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">一些注意事
        项：</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 18pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">1、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">判断出外挂玩家后不立即踢掉，每天集中时间段踢，防止外挂判
        断出检测思路；</span></p>
    <p style="line-height: 24pt; margin: 0pt 0pt 0pt 18pt; text-align:
      justify; text-indent: -18pt;"><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">2、</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:'Times New Roman'; font-size:7pt">&nbsp;</span><span style="color:#333333; font-family:'Times New Roman';
        font-size:7pt">&nbsp;</span><span style="color:#333333;
        font-family:微软雅黑; font-size:10.5pt">（一段时间内）冲过值的玩家以及高于一定等级的玩家在惩罚时
        需要谨慎；</span></p>
    <p style="line-height: 24pt; margin: 0pt; text-align: justify;"><span style="color:#333333; font-family:微软雅黑; font-size:10.5pt">3、每天处理
        的帐号需要备案，并注明原因；</span></p>
    <ul>
      <br>
    </ul>
    <h2> 五、实施备注</h2>
    <ul>
      <li> 同一个ip地址连接数量到达设定值后，在设定的时间后才能开始新的连接，并且随机的断开一些连接。</li>
    </ul>
    <ul>
      <li> 线上预警，线下预警</li>
    </ul>
    <p><br>
    </p>
    <h2>修仙防黑实施内容（1.0）</h2>
    <ul>
      <li>后台加上外挂名单列表</li>
      <li>IP地址黑白灰名单<br>
      </li>
      <li><font color="#cc0000">被拉到外挂清单中的屏蔽操作</font></li>
      <ul>
        <li>在数据保存上失效</li>
        <li>耗能操作不进行（战斗，挂机，修炼）</li>
        <li>排行榜剔除黑名单提交成绩【在排行榜上的操作时提示】，目前需要人工</li>
        <li>无法战斗，无法升级<br>
        </li>
      </ul>
      <li>相同IP地址20分钟内允许创建20个，超过个数后看是否在白名单内</li>
      <li><font color="#cc0000">关键命令要求有前置命令</font></li>
      <ul>
        <li>战斗</li>
        <li>移动，速度检测（加上时间戳）<br>
        </li>
      </ul>
      <li><font color="#cc0000">关键相同命令短时间内允许次数限制</font></li>
      <ul>
        <li>战斗</li>
        <li>升级</li>
      </ul>
      <li><font color="#cc0000">关键命令在时间内有成对出现的要求</font></li>
      <ul>
        <li>战斗<br>
        </li>
      </ul>
      <li>相同IP不在白名单中的最大允许的连接数限制设定为20</li>
      <li><font color="#cc0000">真实客户端检测</font></li>
      <ul>
        <li><font color="#cc0000">服务器端主动发起echo命令<br>
          </font></li>
      </ul>
      <li>人工操作</li>
      <ul>
        <li>IP黑白名单维护</li>
        <li>角色拉灰，拉黑，恢复处理</li>
        <li>角色拉黑后数据快照，回档</li>
      </ul>
      <li><font color="#cc0000">自动预警</font><br>
      </li>
      <ul>
        <li>灵石当日获取异动监测</li>
        <li>时段内大量卖出</li>
        <li>时段内大量获得同一道具</li>
        <li>短时内不断创建角色</li>
        <li>时段内大量获得邮件<br>
        </li>
      </ul>
    </ul>
    <p><br>
    </p>
    <h4>修仙防黑——真实客户端检测<br>
    </h4>
    <ol>
      <li>服务器随机定时向客户端主动发起echo指令，在echo指令中包含要求客户端在规定延时时间段内回复</li>
      <li>客户端根据服务器来的echo命令在规定时间段内按照规定规则生成内容回复给服务器</li>
      <li>服务器如果没有在预设的时间段内收到合理的客户端回复，就判断为此为脱机外挂，在随机时间后开始不执行其指令，在随机时间后主动断
        开，并随机限制以后验证通过结果</li>
      <li>离线时间超过设定值后取消规定回复需求</li>
    </ol>
    <p><br>
    </p>
    <h4>修仙防黑——按键精灵</h4>
    <ol>
      <li>相同命令频率太高，关键指令设定监控</li>
      <ol>
        <li>战斗</li>
        <li>进出三级地图</li>
        <li>三级地图碰撞点请求</li>
      </ol>
      <li>周期内重复</li>
      <ol>
        <li>登录过于频繁，登录间歇判断</li>
        <li>登录后操作行为一致性高度近似，近似度判断<br>
        </li>
      </ol>
    </ol>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
      <br>
    </p>
    <br>
  

</body></html>